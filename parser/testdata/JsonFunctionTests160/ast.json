{
  "$type": "TSqlScript",
  "Batches": [
    {
      "$type": "TSqlBatch",
      "Statements": [
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "ColumnReferenceExpression",
                  "ColumnType": "Regular",
                  "MultiPartIdentifier": {
                    "$type": "MultiPartIdentifier",
                    "Count": 1,
                    "Identifiers": [
                      {
                        "$type": "Identifier",
                        "Value": "id",
                        "QuoteType": "NotQuoted"
                      }
                    ]
                  }
                }
              },
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "ColumnReferenceExpression",
                  "ColumnType": "Regular",
                  "MultiPartIdentifier": {
                    "$type": "MultiPartIdentifier",
                    "Count": 1,
                    "Identifiers": [
                      {
                        "$type": "Identifier",
                        "Value": "json_col",
                        "QuoteType": "NotQuoted"
                      }
                    ]
                  }
                }
              }
            ],
            "FromClause": {
              "$type": "FromClause",
              "TableReferences": [
                {
                  "$type": "NamedTableReference",
                  "SchemaObject": {
                    "$type": "SchemaObjectName",
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "tab1",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 1,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  },
                  "ForPath": false
                }
              ]
            },
            "WhereClause": {
              "$type": "WhereClause",
              "SearchCondition": {
                "$type": "BooleanComparisonExpression",
                "ComparisonType": "Equals",
                "FirstExpression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "ISJSON",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "ColumnReferenceExpression",
                      "ColumnType": "Regular",
                      "MultiPartIdentifier": {
                        "$type": "MultiPartIdentifier",
                        "Count": 1,
                        "Identifiers": [
                          {
                            "$type": "Identifier",
                            "Value": "json_col",
                            "QuoteType": "NotQuoted"
                          }
                        ]
                      }
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "WithArrayWrapper": false
                },
                "SecondExpression": {
                  "$type": "IntegerLiteral",
                  "LiteralType": "Integer",
                  "Value": "1"
                }
              }
            }
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "ColumnReferenceExpression",
                  "ColumnType": "Regular",
                  "MultiPartIdentifier": {
                    "$type": "MultiPartIdentifier",
                    "Count": 1,
                    "Identifiers": [
                      {
                        "$type": "Identifier",
                        "Value": "id",
                        "QuoteType": "NotQuoted"
                      }
                    ]
                  }
                }
              },
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "ColumnReferenceExpression",
                  "ColumnType": "Regular",
                  "MultiPartIdentifier": {
                    "$type": "MultiPartIdentifier",
                    "Count": 1,
                    "Identifiers": [
                      {
                        "$type": "Identifier",
                        "Value": "json_col",
                        "QuoteType": "NotQuoted"
                      }
                    ]
                  }
                }
              }
            ],
            "FromClause": {
              "$type": "FromClause",
              "TableReferences": [
                {
                  "$type": "NamedTableReference",
                  "SchemaObject": {
                    "$type": "SchemaObjectName",
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "tab1",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 1,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  },
                  "ForPath": false
                }
              ]
            },
            "WhereClause": {
              "$type": "WhereClause",
              "SearchCondition": {
                "$type": "BooleanComparisonExpression",
                "ComparisonType": "Equals",
                "FirstExpression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "ISJSON",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "ColumnReferenceExpression",
                      "ColumnType": "Regular",
                      "MultiPartIdentifier": {
                        "$type": "MultiPartIdentifier",
                        "Count": 1,
                        "Identifiers": [
                          {
                            "$type": "Identifier",
                            "Value": "json_col",
                            "QuoteType": "NotQuoted"
                          }
                        ]
                      }
                    },
                    {
                      "$type": "ColumnReferenceExpression",
                      "ColumnType": "Regular",
                      "MultiPartIdentifier": {
                        "$type": "MultiPartIdentifier",
                        "Count": 1,
                        "Identifiers": [
                          {
                            "$type": "Identifier",
                            "Value": "SCALAR",
                            "QuoteType": "NotQuoted"
                          }
                        ]
                      }
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "WithArrayWrapper": false
                },
                "SecondExpression": {
                  "$type": "IntegerLiteral",
                  "LiteralType": "Integer",
                  "Value": "1"
                }
              }
            }
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "ISJSON",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "StringLiteral",
                      "LiteralType": "String",
                      "IsNational": false,
                      "IsLargeObject": false,
                      "Value": "true"
                    },
                    {
                      "$type": "ColumnReferenceExpression",
                      "ColumnType": "Regular",
                      "MultiPartIdentifier": {
                        "$type": "MultiPartIdentifier",
                        "Count": 1,
                        "Identifiers": [
                          {
                            "$type": "Identifier",
                            "Value": "VALUE",
                            "QuoteType": "NotQuoted"
                          }
                        ]
                      }
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "DeclareVariableStatement",
          "Declarations": [
            {
              "$type": "DeclareVariableElement",
              "VariableName": {
                "$type": "Identifier",
                "Value": "@jsonInfo",
                "QuoteType": "NotQuoted"
              },
              "DataType": {
                "$type": "SqlDataTypeReference",
                "SqlDataTypeOption": "NVarChar",
                "Parameters": [
                  {
                    "$type": "MaxLiteral",
                    "LiteralType": "Max",
                    "Value": "MAX"
                  }
                ],
                "Name": {
                  "$type": "SchemaObjectName",
                  "BaseIdentifier": {
                    "$type": "Identifier",
                    "Value": "NVARCHAR",
                    "QuoteType": "NotQuoted"
                  },
                  "Count": 1,
                  "Identifiers": [
                    {
                      "$ref": "Identifier"
                    }
                  ]
                }
              }
            }
          ]
        },
        {
          "$type": "SetVariableStatement",
          "Variable": {
            "$type": "VariableReference",
            "Name": "@jsonInfo"
          },
          "SeparatorType": "NotSpecified",
          "FunctionCallExists": false,
          "Expression": {
            "$type": "StringLiteral",
            "LiteralType": "String",
            "IsNational": true,
            "IsLargeObject": false,
            "Value": "{\"info\":{\"address\":[{\"town\":\"Paris\"},{\"town\":\"London\"}]}}"
          },
          "AssignmentKind": "Equals"
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_PATH_EXISTS",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "VariableReference",
                      "Name": "@jsonInfo"
                    },
                    {
                      "$type": "StringLiteral",
                      "LiteralType": "String",
                      "IsNational": false,
                      "IsLargeObject": false,
                      "Value": "$.info.address"
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_OBJECT",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "JsonParameters": [
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "name"
                      },
                      "JsonValue": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "value"
                      }
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_OBJECT",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "JsonParameters": [
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "name"
                      },
                      "JsonValue": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "value"
                      }
                    },
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "type"
                      },
                      "JsonValue": {
                        "$type": "IntegerLiteral",
                        "LiteralType": "Integer",
                        "Value": "1"
                      }
                    }
                  ],
                  "AbsentOrNullOnNull": [
                    {
                      "$type": "Identifier",
                      "Value": "NULL",
                      "QuoteType": "NotQuoted"
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_OBJECT",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "AbsentOrNullOnNull": [
                    {
                      "$type": "Identifier",
                      "Value": "NULL",
                      "QuoteType": "NotQuoted"
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_OBJECT",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "JsonParameters": [
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "name"
                      },
                      "JsonValue": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "value"
                      }
                    },
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "type"
                      },
                      "JsonValue": {
                        "$type": "NullLiteral",
                        "LiteralType": "Null",
                        "Value": "NULL"
                      }
                    }
                  ],
                  "AbsentOrNullOnNull": [
                    {
                      "$type": "Identifier",
                      "Value": "ABSENT",
                      "QuoteType": "NotQuoted"
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_OBJECT",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "JsonParameters": [
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "name"
                      },
                      "JsonValue": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "value"
                      }
                    },
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "type"
                      },
                      "JsonValue": {
                        "$type": "FunctionCall",
                        "FunctionName": {
                          "$type": "Identifier",
                          "Value": "JSON_OBJECT",
                          "QuoteType": "NotQuoted"
                        },
                        "UniqueRowFilter": "NotSpecified",
                        "JsonParameters": [
                          {
                            "$type": "JsonKeyValue",
                            "JsonKeyName": {
                              "$type": "StringLiteral",
                              "LiteralType": "String",
                              "IsNational": false,
                              "IsLargeObject": false,
                              "Value": "type_id"
                            },
                            "JsonValue": {
                              "$type": "IntegerLiteral",
                              "LiteralType": "Integer",
                              "Value": "1"
                            }
                          },
                          {
                            "$type": "JsonKeyValue",
                            "JsonKeyName": {
                              "$type": "StringLiteral",
                              "LiteralType": "String",
                              "IsNational": false,
                              "IsLargeObject": false,
                              "Value": "name"
                            },
                            "JsonValue": {
                              "$type": "StringLiteral",
                              "LiteralType": "String",
                              "IsNational": false,
                              "IsLargeObject": false,
                              "Value": "a"
                            }
                          }
                        ],
                        "WithArrayWrapper": false
                      }
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_OBJECT",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_OBJECT",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "JsonParameters": [
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "name"
                      },
                      "JsonValue": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "value"
                      }
                    },
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "type"
                      },
                      "JsonValue": {
                        "$type": "IntegerLiteral",
                        "LiteralType": "Integer",
                        "Value": "1"
                      }
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_OBJECT",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "JsonParameters": [
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "name"
                      },
                      "JsonValue": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "value"
                      }
                    },
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "type"
                      },
                      "JsonValue": {
                        "$type": "FunctionCall",
                        "FunctionName": {
                          "$type": "Identifier",
                          "Value": "JSON_ARRAY",
                          "QuoteType": "NotQuoted"
                        },
                        "Parameters": [
                          {
                            "$type": "IntegerLiteral",
                            "LiteralType": "Integer",
                            "Value": "1"
                          },
                          {
                            "$type": "IntegerLiteral",
                            "LiteralType": "Integer",
                            "Value": "2"
                          }
                        ],
                        "UniqueRowFilter": "NotSpecified",
                        "WithArrayWrapper": false
                      }
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "DeclareVariableStatement",
          "Declarations": [
            {
              "$type": "DeclareVariableElement",
              "VariableName": {
                "$type": "Identifier",
                "Value": "@id_key",
                "QuoteType": "NotQuoted"
              },
              "DataType": {
                "$type": "SqlDataTypeReference",
                "SqlDataTypeOption": "NVarChar",
                "Parameters": [
                  {
                    "$type": "IntegerLiteral",
                    "LiteralType": "Integer",
                    "Value": "10"
                  }
                ],
                "Name": {
                  "$type": "SchemaObjectName",
                  "BaseIdentifier": {
                    "$type": "Identifier",
                    "Value": "NVARCHAR",
                    "QuoteType": "NotQuoted"
                  },
                  "Count": 1,
                  "Identifiers": [
                    {
                      "$ref": "Identifier"
                    }
                  ]
                }
              },
              "Value": {
                "$type": "StringLiteral",
                "LiteralType": "String",
                "IsNational": true,
                "IsLargeObject": false,
                "Value": "id"
              }
            },
            {
              "$type": "DeclareVariableElement",
              "VariableName": {
                "$type": "Identifier",
                "Value": "@id_value",
                "QuoteType": "NotQuoted"
              },
              "DataType": {
                "$type": "SqlDataTypeReference",
                "SqlDataTypeOption": "NVarChar",
                "Parameters": [
                  {
                    "$type": "IntegerLiteral",
                    "LiteralType": "Integer",
                    "Value": "64"
                  }
                ],
                "Name": {
                  "$type": "SchemaObjectName",
                  "BaseIdentifier": {
                    "$type": "Identifier",
                    "Value": "NVARCHAR",
                    "QuoteType": "NotQuoted"
                  },
                  "Count": 1,
                  "Identifiers": [
                    {
                      "$ref": "Identifier"
                    }
                  ]
                }
              },
              "Value": {
                "$type": "FunctionCall",
                "FunctionName": {
                  "$type": "Identifier",
                  "Value": "NEWID",
                  "QuoteType": "NotQuoted"
                },
                "UniqueRowFilter": "NotSpecified",
                "WithArrayWrapper": false
              }
            }
          ]
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_OBJECT",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "JsonParameters": [
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "user_name"
                      },
                      "JsonValue": {
                        "$type": "FunctionCall",
                        "FunctionName": {
                          "$type": "Identifier",
                          "Value": "USER_NAME",
                          "QuoteType": "NotQuoted"
                        },
                        "UniqueRowFilter": "NotSpecified",
                        "WithArrayWrapper": false
                      }
                    },
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "VariableReference",
                        "Name": "@id_key"
                      },
                      "JsonValue": {
                        "$type": "VariableReference",
                        "Name": "@id_value"
                      }
                    },
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "sid"
                      },
                      "JsonValue": {
                        "$type": "ScalarSubquery",
                        "QueryExpression": {
                          "$type": "QuerySpecification",
                          "UniqueRowFilter": "NotSpecified",
                          "SelectElements": [
                            {
                              "$type": "SelectScalarExpression",
                              "Expression": {
                                "$type": "GlobalVariableExpression",
                                "Name": "@@SPID"
                              }
                            }
                          ]
                        }
                      }
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "ColumnReferenceExpression",
                  "ColumnType": "Regular",
                  "MultiPartIdentifier": {
                    "$type": "MultiPartIdentifier",
                    "Count": 2,
                    "Identifiers": [
                      {
                        "$type": "Identifier",
                        "Value": "s",
                        "QuoteType": "NotQuoted"
                      },
                      {
                        "$type": "Identifier",
                        "Value": "session_id",
                        "QuoteType": "NotQuoted"
                      }
                    ]
                  }
                }
              },
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_OBJECT",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "JsonParameters": [
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "security_id"
                      },
                      "JsonValue": {
                        "$type": "ColumnReferenceExpression",
                        "ColumnType": "Regular",
                        "MultiPartIdentifier": {
                          "$type": "MultiPartIdentifier",
                          "Count": 2,
                          "Identifiers": [
                            {
                              "$type": "Identifier",
                              "Value": "s",
                              "QuoteType": "NotQuoted"
                            },
                            {
                              "$type": "Identifier",
                              "Value": "security_id",
                              "QuoteType": "NotQuoted"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "login"
                      },
                      "JsonValue": {
                        "$type": "ColumnReferenceExpression",
                        "ColumnType": "Regular",
                        "MultiPartIdentifier": {
                          "$type": "MultiPartIdentifier",
                          "Count": 2,
                          "Identifiers": [
                            {
                              "$type": "Identifier",
                              "Value": "s",
                              "QuoteType": "NotQuoted"
                            },
                            {
                              "$type": "Identifier",
                              "Value": "login_name",
                              "QuoteType": "NotQuoted"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "$type": "JsonKeyValue",
                      "JsonKeyName": {
                        "$type": "StringLiteral",
                        "LiteralType": "String",
                        "IsNational": false,
                        "IsLargeObject": false,
                        "Value": "status"
                      },
                      "JsonValue": {
                        "$type": "ColumnReferenceExpression",
                        "ColumnType": "Regular",
                        "MultiPartIdentifier": {
                          "$type": "MultiPartIdentifier",
                          "Count": 2,
                          "Identifiers": [
                            {
                              "$type": "Identifier",
                              "Value": "s",
                              "QuoteType": "NotQuoted"
                            },
                            {
                              "$type": "Identifier",
                              "Value": "status",
                              "QuoteType": "NotQuoted"
                            }
                          ]
                        }
                      }
                    }
                  ],
                  "WithArrayWrapper": false
                },
                "ColumnName": {
                  "$type": "IdentifierOrValueExpression",
                  "Value": "info",
                  "Identifier": {
                    "$type": "Identifier",
                    "Value": "info",
                    "QuoteType": "NotQuoted"
                  }
                }
              }
            ],
            "FromClause": {
              "$type": "FromClause",
              "TableReferences": [
                {
                  "$type": "NamedTableReference",
                  "SchemaObject": {
                    "$type": "SchemaObjectName",
                    "SchemaIdentifier": {
                      "$type": "Identifier",
                      "Value": "sys",
                      "QuoteType": "NotQuoted"
                    },
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "dm_exec_sessions",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 2,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      },
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  },
                  "Alias": {
                    "$type": "Identifier",
                    "Value": "s",
                    "QuoteType": "NotQuoted"
                  },
                  "ForPath": false
                }
              ]
            },
            "WhereClause": {
              "$type": "WhereClause",
              "SearchCondition": {
                "$type": "BooleanComparisonExpression",
                "ComparisonType": "Equals",
                "FirstExpression": {
                  "$type": "ColumnReferenceExpression",
                  "ColumnType": "Regular",
                  "MultiPartIdentifier": {
                    "$type": "MultiPartIdentifier",
                    "Count": 2,
                    "Identifiers": [
                      {
                        "$type": "Identifier",
                        "Value": "s",
                        "QuoteType": "NotQuoted"
                      },
                      {
                        "$type": "Identifier",
                        "Value": "is_user_process",
                        "QuoteType": "NotQuoted"
                      }
                    ]
                  }
                },
                "SecondExpression": {
                  "$type": "IntegerLiteral",
                  "LiteralType": "Integer",
                  "Value": "1"
                }
              }
            }
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_ARRAY",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "StringLiteral",
                      "LiteralType": "String",
                      "IsNational": false,
                      "IsLargeObject": false,
                      "Value": "a"
                    },
                    {
                      "$type": "FunctionCall",
                      "FunctionName": {
                        "$type": "Identifier",
                        "Value": "JSON_OBJECT",
                        "QuoteType": "NotQuoted"
                      },
                      "UniqueRowFilter": "NotSpecified",
                      "JsonParameters": [
                        {
                          "$type": "JsonKeyValue",
                          "JsonKeyName": {
                            "$type": "StringLiteral",
                            "LiteralType": "String",
                            "IsNational": false,
                            "IsLargeObject": false,
                            "Value": "name"
                          },
                          "JsonValue": {
                            "$type": "StringLiteral",
                            "LiteralType": "String",
                            "IsNational": false,
                            "IsLargeObject": false,
                            "Value": "value"
                          }
                        },
                        {
                          "$type": "JsonKeyValue",
                          "JsonKeyName": {
                            "$type": "StringLiteral",
                            "LiteralType": "String",
                            "IsNational": false,
                            "IsLargeObject": false,
                            "Value": "type"
                          },
                          "JsonValue": {
                            "$type": "IntegerLiteral",
                            "LiteralType": "Integer",
                            "Value": "1"
                          }
                        }
                      ],
                      "AbsentOrNullOnNull": [
                        {
                          "$type": "Identifier",
                          "Value": "NULL",
                          "QuoteType": "NotQuoted"
                        }
                      ],
                      "WithArrayWrapper": false
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "AbsentOrNullOnNull": [
                    {
                      "$type": "Identifier",
                      "Value": "NULL",
                      "QuoteType": "NotQuoted"
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_ARRAY",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_ARRAY",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "StringLiteral",
                      "LiteralType": "String",
                      "IsNational": false,
                      "IsLargeObject": false,
                      "Value": "name"
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_ARRAY",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "StringLiteral",
                      "LiteralType": "String",
                      "IsNational": false,
                      "IsLargeObject": false,
                      "Value": "a"
                    },
                    {
                      "$type": "IntegerLiteral",
                      "LiteralType": "Integer",
                      "Value": "1"
                    },
                    {
                      "$type": "StringLiteral",
                      "LiteralType": "String",
                      "IsNational": false,
                      "IsLargeObject": false,
                      "Value": "b"
                    },
                    {
                      "$type": "IntegerLiteral",
                      "LiteralType": "Integer",
                      "Value": "2"
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_ARRAY",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "StringLiteral",
                      "LiteralType": "String",
                      "IsNational": false,
                      "IsLargeObject": false,
                      "Value": "a"
                    },
                    {
                      "$type": "IntegerLiteral",
                      "LiteralType": "Integer",
                      "Value": "1"
                    },
                    {
                      "$type": "NullLiteral",
                      "LiteralType": "Null",
                      "Value": "NULL"
                    },
                    {
                      "$type": "IntegerLiteral",
                      "LiteralType": "Integer",
                      "Value": "2"
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "AbsentOrNullOnNull": [
                    {
                      "$type": "Identifier",
                      "Value": "NULL",
                      "QuoteType": "NotQuoted"
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_ARRAY",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "StringLiteral",
                      "LiteralType": "String",
                      "IsNational": false,
                      "IsLargeObject": false,
                      "Value": "a"
                    },
                    {
                      "$type": "IntegerLiteral",
                      "LiteralType": "Integer",
                      "Value": "1"
                    },
                    {
                      "$type": "NullLiteral",
                      "LiteralType": "Null",
                      "Value": "NULL"
                    },
                    {
                      "$type": "IntegerLiteral",
                      "LiteralType": "Integer",
                      "Value": "2"
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "AbsentOrNullOnNull": [
                    {
                      "$type": "Identifier",
                      "Value": "ABSENT",
                      "QuoteType": "NotQuoted"
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_ARRAY",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "AbsentOrNullOnNull": [
                    {
                      "$type": "Identifier",
                      "Value": "NULL",
                      "QuoteType": "NotQuoted"
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_ARRAY",
                    "QuoteType": "NotQuoted"
                  },
                  "UniqueRowFilter": "NotSpecified",
                  "AbsentOrNullOnNull": [
                    {
                      "$type": "Identifier",
                      "Value": "ABSENT",
                      "QuoteType": "NotQuoted"
                    }
                  ],
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "DeclareVariableStatement",
          "Declarations": [
            {
              "$type": "DeclareVariableElement",
              "VariableName": {
                "$type": "Identifier",
                "Value": "@id_value",
                "QuoteType": "NotQuoted"
              },
              "DataType": {
                "$type": "SqlDataTypeReference",
                "SqlDataTypeOption": "NVarChar",
                "Parameters": [
                  {
                    "$type": "IntegerLiteral",
                    "LiteralType": "Integer",
                    "Value": "64"
                  }
                ],
                "Name": {
                  "$type": "SchemaObjectName",
                  "BaseIdentifier": {
                    "$type": "Identifier",
                    "Value": "NVARCHAR",
                    "QuoteType": "NotQuoted"
                  },
                  "Count": 1,
                  "Identifiers": [
                    {
                      "$ref": "Identifier"
                    }
                  ]
                }
              },
              "Value": {
                "$type": "FunctionCall",
                "FunctionName": {
                  "$type": "Identifier",
                  "Value": "NEWID",
                  "QuoteType": "NotQuoted"
                },
                "UniqueRowFilter": "NotSpecified",
                "WithArrayWrapper": false
              }
            }
          ]
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_ARRAY",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "IntegerLiteral",
                      "LiteralType": "Integer",
                      "Value": "1"
                    },
                    {
                      "$type": "VariableReference",
                      "Name": "@id_value"
                    },
                    {
                      "$type": "ScalarSubquery",
                      "QueryExpression": {
                        "$type": "QuerySpecification",
                        "UniqueRowFilter": "NotSpecified",
                        "SelectElements": [
                          {
                            "$type": "SelectScalarExpression",
                            "Expression": {
                              "$type": "GlobalVariableExpression",
                              "Name": "@@SPID"
                            }
                          }
                        ]
                      }
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "WithArrayWrapper": false
                }
              }
            ]
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "ColumnReferenceExpression",
                  "ColumnType": "Regular",
                  "MultiPartIdentifier": {
                    "$type": "MultiPartIdentifier",
                    "Count": 2,
                    "Identifiers": [
                      {
                        "$type": "Identifier",
                        "Value": "s",
                        "QuoteType": "NotQuoted"
                      },
                      {
                        "$type": "Identifier",
                        "Value": "session_id",
                        "QuoteType": "NotQuoted"
                      }
                    ]
                  }
                }
              },
              {
                "$type": "SelectScalarExpression",
                "Expression": {
                  "$type": "FunctionCall",
                  "FunctionName": {
                    "$type": "Identifier",
                    "Value": "JSON_ARRAY",
                    "QuoteType": "NotQuoted"
                  },
                  "Parameters": [
                    {
                      "$type": "ColumnReferenceExpression",
                      "ColumnType": "Regular",
                      "MultiPartIdentifier": {
                        "$type": "MultiPartIdentifier",
                        "Count": 2,
                        "Identifiers": [
                          {
                            "$type": "Identifier",
                            "Value": "s",
                            "QuoteType": "NotQuoted"
                          },
                          {
                            "$type": "Identifier",
                            "Value": "host_name",
                            "QuoteType": "NotQuoted"
                          }
                        ]
                      }
                    },
                    {
                      "$type": "ColumnReferenceExpression",
                      "ColumnType": "Regular",
                      "MultiPartIdentifier": {
                        "$type": "MultiPartIdentifier",
                        "Count": 2,
                        "Identifiers": [
                          {
                            "$type": "Identifier",
                            "Value": "s",
                            "QuoteType": "NotQuoted"
                          },
                          {
                            "$type": "Identifier",
                            "Value": "program_name",
                            "QuoteType": "NotQuoted"
                          }
                        ]
                      }
                    },
                    {
                      "$type": "ColumnReferenceExpression",
                      "ColumnType": "Regular",
                      "MultiPartIdentifier": {
                        "$type": "MultiPartIdentifier",
                        "Count": 2,
                        "Identifiers": [
                          {
                            "$type": "Identifier",
                            "Value": "s",
                            "QuoteType": "NotQuoted"
                          },
                          {
                            "$type": "Identifier",
                            "Value": "client_interface_name",
                            "QuoteType": "NotQuoted"
                          }
                        ]
                      }
                    }
                  ],
                  "UniqueRowFilter": "NotSpecified",
                  "WithArrayWrapper": false
                }
              }
            ],
            "FromClause": {
              "$type": "FromClause",
              "TableReferences": [
                {
                  "$type": "NamedTableReference",
                  "SchemaObject": {
                    "$type": "SchemaObjectName",
                    "SchemaIdentifier": {
                      "$type": "Identifier",
                      "Value": "sys",
                      "QuoteType": "NotQuoted"
                    },
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "dm_exec_sessions",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 2,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      },
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  },
                  "Alias": {
                    "$type": "Identifier",
                    "Value": "s",
                    "QuoteType": "NotQuoted"
                  },
                  "ForPath": false
                }
              ]
            },
            "WhereClause": {
              "$type": "WhereClause",
              "SearchCondition": {
                "$type": "BooleanComparisonExpression",
                "ComparisonType": "Equals",
                "FirstExpression": {
                  "$type": "ColumnReferenceExpression",
                  "ColumnType": "Regular",
                  "MultiPartIdentifier": {
                    "$type": "MultiPartIdentifier",
                    "Count": 2,
                    "Identifiers": [
                      {
                        "$type": "Identifier",
                        "Value": "s",
                        "QuoteType": "NotQuoted"
                      },
                      {
                        "$type": "Identifier",
                        "Value": "is_user_process",
                        "QuoteType": "NotQuoted"
                      }
                    ]
                  }
                },
                "SecondExpression": {
                  "$type": "IntegerLiteral",
                  "LiteralType": "Integer",
                  "Value": "1"
                }
              }
            }
          }
        }
      ]
    }
  ]
}