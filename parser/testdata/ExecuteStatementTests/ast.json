{
  "$type": "TSqlScript",
  "Batches": [
    {
      "$type": "TSqlBatch",
      "Statements": [
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "Variable": {
              "$type": "VariableReference",
              "Name": "@returnstatus"
            },
            "ExecutableEntity": {
              "$type": "ExecutableProcedureReference",
              "ProcedureReference": {
                "$type": "ProcedureReferenceName",
                "ProcedureReference": {
                  "$type": "ProcedureReference",
                  "Name": {
                    "$type": "SchemaObjectName",
                    "SchemaIdentifier": {
                      "$type": "Identifier",
                      "Value": "dbo",
                      "QuoteType": "NotQuoted"
                    },
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "ufnGetSalesOrderStatusText",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 2,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      },
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  }
                }
              },
              "Parameters": [
                {
                  "$type": "ExecuteParameter",
                  "Variable": {
                    "$type": "VariableReference",
                    "Name": "@Status"
                  },
                  "ParameterValue": {
                    "$type": "IntegerLiteral",
                    "LiteralType": "Integer",
                    "Value": "2"
                  },
                  "IsOutput": false
                }
              ]
            }
          }
        },
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "ExecutableEntity": {
              "$type": "ExecutableProcedureReference",
              "ProcedureReference": {
                "$type": "ProcedureReferenceName",
                "ProcedureReference": {
                  "$type": "ProcedureReference",
                  "Name": {
                    "$type": "SchemaObjectName",
                    "SchemaIdentifier": {
                      "$type": "Identifier",
                      "Value": "dbo",
                      "QuoteType": "NotQuoted"
                    },
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "ProcTestDefaults",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 2,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      },
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  },
                  "Number": {
                    "$type": "IntegerLiteral",
                    "LiteralType": "Integer",
                    "Value": "1"
                  }
                }
              },
              "Parameters": [
                {
                  "$type": "ExecuteParameter",
                  "ParameterValue": {
                    "$type": "DefaultLiteral",
                    "LiteralType": "Default",
                    "Value": "DEFAULT"
                  },
                  "IsOutput": false
                },
                {
                  "$type": "ExecuteParameter",
                  "ParameterValue": {
                    "$type": "StringLiteral",
                    "LiteralType": "String",
                    "IsNational": false,
                    "IsLargeObject": false,
                    "Value": "I"
                  },
                  "IsOutput": false
                },
                {
                  "$type": "ExecuteParameter",
                  "Variable": {
                    "$type": "VariableReference",
                    "Name": "@p3"
                  },
                  "ParameterValue": {
                    "$type": "DefaultLiteral",
                    "LiteralType": "Default",
                    "Value": "DEFAULT"
                  },
                  "IsOutput": false
                }
              ]
            }
          }
        },
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "ExecutableEntity": {
              "$type": "ExecutableProcedureReference",
              "ProcedureReference": {
                "$type": "ProcedureReferenceName",
                "ProcedureReference": {
                  "$type": "ProcedureReference",
                  "Name": {
                    "$type": "SchemaObjectName",
                    "SchemaIdentifier": {
                      "$type": "Identifier",
                      "Value": "dbo",
                      "QuoteType": "NotQuoted"
                    },
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "Proc_Test_Defaults",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 2,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      },
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  }
                }
              },
              "Parameters": [
                {
                  "$type": "ExecuteParameter",
                  "Variable": {
                    "$type": "VariableReference",
                    "Name": "@p2"
                  },
                  "ParameterValue": {
                    "$type": "VariableReference",
                    "Name": "@p10"
                  },
                  "IsOutput": true
                }
              ]
            }
          },
          "Options": [
            {
              "$type": "ExecuteOption",
              "OptionKind": "Recompile"
            }
          ]
        },
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "ExecutableEntity": {
              "$type": "ExecutableStringList",
              "Strings": [
                {
                  "$type": "StringLiteral",
                  "LiteralType": "String",
                  "IsNational": false,
                  "IsLargeObject": false,
                  "Value": "ALTER INDEX ALL ON "
                },
                {
                  "$type": "VariableReference",
                  "Name": "@schemaname"
                },
                {
                  "$type": "StringLiteral",
                  "LiteralType": "String",
                  "IsNational": false,
                  "IsLargeObject": false,
                  "Value": "."
                },
                {
                  "$type": "VariableReference",
                  "Name": "@tablename"
                },
                {
                  "$type": "StringLiteral",
                  "LiteralType": "String",
                  "IsNational": false,
                  "IsLargeObject": false,
                  "Value": " REBUILD;"
                }
              ]
            }
          }
        },
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "ExecutableEntity": {
              "$type": "ExecutableStringList",
              "Strings": [
                {
                  "$type": "StringLiteral",
                  "LiteralType": "String",
                  "IsNational": false,
                  "IsLargeObject": false,
                  "Value": "SELECT "
                },
                {
                  "$type": "GlobalVariableExpression",
                  "Name": "@@ERROR"
                }
              ]
            }
          }
        },
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "ExecutableEntity": {
              "$type": "ExecutableProcedureReference",
              "ProcedureReference": {
                "$type": "ProcedureReferenceName",
                "ProcedureVariable": {
                  "$type": "VariableReference",
                  "Name": "@varName"
                }
              }
            }
          }
        },
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "ExecutableEntity": {
              "$type": "ExecutableProcedureReference",
              "ProcedureReference": {
                "$type": "ProcedureReferenceName",
                "ProcedureReference": {
                  "$type": "ProcedureReference",
                  "Name": {
                    "$type": "SchemaObjectName",
                    "DatabaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "AdventureWorks",
                      "QuoteType": "NotQuoted"
                    },
                    "SchemaIdentifier": {
                      "$type": "Identifier",
                      "Value": "HumanResources",
                      "QuoteType": "NotQuoted"
                    },
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "SomeProcedure",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 3,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      },
                      {
                        "$ref": "Identifier"
                      },
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  }
                }
              },
              "AdHocDataSource": {
                "$type": "AdHocDataSource",
                "ProviderName": {
                  "$type": "StringLiteral",
                  "LiteralType": "String",
                  "IsNational": false,
                  "IsLargeObject": false,
                  "Value": "SQLNCLI"
                },
                "InitString": {
                  "$type": "StringLiteral",
                  "LiteralType": "String",
                  "IsNational": false,
                  "IsLargeObject": false,
                  "Value": "Data Source=London\\Payroll;Integrated Security=SSPI"
                }
              }
            }
          }
        }
      ]
    },
    {
      "$type": "TSqlBatch",
      "Statements": [
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "ExecutableEntity": {
              "$type": "ExecutableProcedureReference",
              "ProcedureReference": {
                "$type": "ProcedureReferenceName",
                "ProcedureReference": {
                  "$type": "ProcedureReference",
                  "Name": {
                    "$type": "SchemaObjectName",
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "sp_grantdbaccess",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 1,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  }
                }
              },
              "Parameters": [
                {
                  "$type": "ExecuteParameter",
                  "ParameterValue": {
                    "$type": "StringLiteral",
                    "LiteralType": "String",
                    "IsNational": false,
                    "IsLargeObject": false,
                    "Value": "redmond\\eftqa1"
                  },
                  "IsOutput": false
                }
              ]
            }
          }
        }
      ]
    },
    {
      "$type": "TSqlBatch",
      "Statements": [
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "ExecutableEntity": {
              "$type": "ExecutableProcedureReference",
              "ProcedureReference": {
                "$type": "ProcedureReferenceName",
                "ProcedureReference": {
                  "$type": "ProcedureReference",
                  "Name": {
                    "$type": "SchemaObjectName",
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "sp_grantdbaccess",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 1,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  }
                }
              },
              "Parameters": [
                {
                  "$type": "ExecuteParameter",
                  "ParameterValue": {
                    "$type": "StringLiteral",
                    "LiteralType": "String",
                    "IsNational": false,
                    "IsLargeObject": false,
                    "Value": "redmond\\eftqa1"
                  },
                  "IsOutput": false
                }
              ]
            }
          }
        },
        {
          "$type": "SelectStatement",
          "QueryExpression": {
            "$type": "QuerySpecification",
            "UniqueRowFilter": "NotSpecified",
            "SelectElements": [
              {
                "$type": "SelectStarExpression"
              }
            ],
            "FromClause": {
              "$type": "FromClause",
              "TableReferences": [
                {
                  "$type": "NamedTableReference",
                  "SchemaObject": {
                    "$type": "SchemaObjectName",
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "t1",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 1,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  },
                  "ForPath": false
                }
              ]
            }
          }
        },
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "ExecutableEntity": {
              "$type": "ExecutableProcedureReference",
              "ProcedureReference": {
                "$type": "ProcedureReferenceName",
                "ProcedureReference": {
                  "$type": "ProcedureReference",
                  "Name": {
                    "$type": "SchemaObjectName",
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "sp_addtype",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 1,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  }
                }
              },
              "Parameters": [
                {
                  "$type": "ExecuteParameter",
                  "ParameterValue": {
                    "$type": "IdentifierLiteral",
                    "LiteralType": "Identifier",
                    "QuoteType": "NotQuoted",
                    "Value": "birthday"
                  },
                  "IsOutput": false
                },
                {
                  "$type": "ExecuteParameter",
                  "ParameterValue": {
                    "$type": "IdentifierLiteral",
                    "LiteralType": "Identifier",
                    "QuoteType": "NotQuoted",
                    "Value": "datetime"
                  },
                  "IsOutput": false
                },
                {
                  "$type": "ExecuteParameter",
                  "ParameterValue": {
                    "$type": "StringLiteral",
                    "LiteralType": "String",
                    "IsNational": false,
                    "IsLargeObject": false,
                    "Value": "NULL"
                  },
                  "IsOutput": false
                }
              ]
            }
          }
        },
        {
          "$type": "ExecuteStatement",
          "ExecuteSpecification": {
            "$type": "ExecuteSpecification",
            "ExecutableEntity": {
              "$type": "ExecutableProcedureReference",
              "ProcedureReference": {
                "$type": "ProcedureReferenceName",
                "ProcedureReference": {
                  "$type": "ProcedureReference",
                  "Name": {
                    "$type": "SchemaObjectName",
                    "ServerIdentifier": {
                      "$type": "Identifier",
                      "Value": "a",
                      "QuoteType": "NotQuoted"
                    },
                    "DatabaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "b",
                      "QuoteType": "NotQuoted"
                    },
                    "SchemaIdentifier": {
                      "$type": "Identifier",
                      "Value": "c",
                      "QuoteType": "NotQuoted"
                    },
                    "BaseIdentifier": {
                      "$type": "Identifier",
                      "Value": "d",
                      "QuoteType": "NotQuoted"
                    },
                    "Count": 4,
                    "Identifiers": [
                      {
                        "$ref": "Identifier"
                      },
                      {
                        "$ref": "Identifier"
                      },
                      {
                        "$ref": "Identifier"
                      },
                      {
                        "$ref": "Identifier"
                      }
                    ]
                  }
                }
              }
            }
          }
        }
      ]
    }
  ]
}